/*
 * GPS_NEO-06.c
 *
 *  Created on: 7 dic. 2022
 *      Author: USUARIO
 */

#include "GPS_NEO_06.h"

extern UART_HandleTypeDef huart2;	//

//======================== GPS ===========================================
// GPS_Config();  //Como usar la funcion desde el main
//========================================================================

void GPS_Config(void){

//uint8_t ubxcfgmsg_gprmc[] = {//UBX-CFG-MSG-NMEA GxRMC- SET UART
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x04,0x00,0x01,0x00,0x00,0x00,0x00, // Payload
//
//	0x04,0x44}; // Checksum

uint8_t ubxcfgmsg_gpggl[] = {//UBX-CFG-MSG-NMEA GxGGL

	0xB5,0x62,0x06,0x01,0x08,0x00,

	0xF0,0x01,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x01,0x2B}; // Checksum

uint8_t ubxcfgmsg_gpgga[] = {//UBX-CFG-MSG-NMEA - RESET ALL COM

	0xB5,0x62,0x06,0x01,0x08,0x00,

	0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x00,0x24}; // Checksum

uint8_t ubxcfgmsg_gpgsa[] = {//UBX-CFG-MSG-NMEA - RESET ALL COM

	0xB5,0x62,0x06,0x01,0x08,0x00,

	0xF0,0x02,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x02,0x32}; // Checksum

uint8_t ubxcfgmsg_gpgsv[] = {//UBX-CFG-MSG-NMEA - RESET ALL COM

	0xB5,0x62,0x06,0x01,0x08,0x00,

	0xF0,0x03,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x03,0x39}; // Checksum

uint8_t ubxcfgmsg_gpvtg[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM

	0xB5,0x62,0x06,0x01,0x08,0x00,

	0xF0,0x05,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x05,0x47}; // Checksum


//uint8_t ubxcfgmsg_gxgrs[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x06,0x00,0x00,0x00,0x00,0x00,0x00, // Payload
//
//	0x05,0x4D}; // Checksum
//
//uint8_t ubxcfgmsg_gxgst[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x07,0x00,0x00,0x00,0x00,0x00,0x00, // Payload
//
//	0x06,0x54}; // Checksum
//
//uint8_t ubxcfgmsg_gxzda[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x08,0x00,0x00,0x00,0x00,0x00,0x00, // Payload
//
//	0x07,0x5B}; // Checksum
//
//uint8_t ubxcfgmsg_gxgbs[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x0A,0x00,0x00,0x00,0x00,0x00,0x00, // Payload
//
//	0x09,0x69}; // Checksum
//
//uint8_t ubxcfgmsg_gxgbs[] = {//UBX-CFG-MSG-NMEA- RESET ALL COM
//
//	0xB5,0x62,0x06,0x01,0x08,0x00,
//
//	0xF0,0x09,0x00,0x00,0x00,0x00,0x00,0x00, // Payload
//
//	0x08,0x62}; // Checksum


//Configuration Pedestrian Mode

uint8_t ubxcfgmsg_nav5[] = {//UBX-CFG-NAV5

	0xB5,0x62,0x06,0x24,0x24,0x00,

	0xFF, 0xFF, 0x03, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10, 0x27, 0x00, 0x00, 0x05, 0x00, 0xFA, 0x00, // Payload

	0xFA, 0x00, 0x64, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x00, 0x00, 0x10, 0x27, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

	0x4A,0x75}; // Checksum


uint8_t ubxcfgcfg_save[] = {//UBX-CFG-CFG Save Current Configuration in Battery BackUp

	0xB5,0x62,0x06,0x09,0x0D,0x00,

	0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x01, // Payload

	0x1B,0xA9}; // Checksum

	HAL_UART_Transmit(&huart2, ubxcfgmsg_gpgga, sizeof(ubxcfgmsg_gpgga)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgmsg_gpggl, sizeof(ubxcfgmsg_gpggl)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgmsg_gpgsa, sizeof(ubxcfgmsg_gpgsa)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgmsg_gpgsv, sizeof(ubxcfgmsg_gpgsv)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgmsg_gpvtg, sizeof(ubxcfgmsg_gpvtg)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgmsg_nav5, sizeof(ubxcfgmsg_nav5)/sizeof(uint8_t), 5000);

	HAL_UART_Transmit(&huart2, ubxcfgcfg_save, sizeof(ubxcfgcfg_save)/sizeof(uint8_t), 5000);

}
